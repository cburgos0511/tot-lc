<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tower of Trials: Combat Mode</title>
    <!-- Tailwind CDN for development. Switch to /dist/output.css for production build. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link href="/dist/output.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet" />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              gothic: ['"MedievalSharp"', 'cursive'],
            },
            keyframes: {
              possessed: {
                '0%': { transform: 'translate(0, 0) rotate(0deg) scale(1)' },
                '10%': { transform: 'translate(-3px, 3px) rotate(3deg) scale(1.5)' },
                '20%': { transform: 'translate(4px, -2px) rotate(-2deg) scale(1.5)' },
                '22%': { transform: 'translate(-2px, 3px) rotate(4deg) scale(1.5)' },
                '25%': { transform: 'translate(2px, -3px) rotate(-2deg) scale(1.1)' },
                '30%': { transform: 'translate(-1px, 2px) rotate(3deg) scale(1)' },
                '32%': { transform: 'translate(3px, -1px) rotate(-2deg) scale(1)' },
                '34%': { transform: 'translate(-1px, 4px) rotate(2deg) scale(1)' },
                '38%': { transform: 'translate(2px, -4px) rotate(-3deg) scale(1)' },
                '42%': { transform: 'translate(-3px, 1px) rotate(2deg) scale(0.99)' },
                '45%': { transform: 'translate(0, 0) rotate(0deg) scale(1)' },
              },
              brightnessPulse: {
                '0%, 100%': { filter: 'brightness(1.0)' },
                '50%': { filter: 'brightness(1.5)' }
              },
              glowPulse: {
                '0%, 100%': { 
                  'box-shadow': '0 0 10px 2px rgba(252, 211, 77, 0.7), 0 0 20px 5px rgba(234, 179, 8, 0.5)'
                },
                '50%': { 
                  'box-shadow': '0 0 20px 6px rgba(252, 211, 77, 1), 0 0 30px 10px rgba(202, 138, 4, 0.8)'
                },
              },
              wavy: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-4px)' },
              },
            },
            animation: {
              possessed: 'possessed 0.7s infinite ease-in-out',
              brightnessPulse: 'brightnessPulse 2.5s ease-in-out infinite',
              glowPulse: 'glowPulse 2.5s ease-in-out infinite',
              wavy: 'wavy 2s ease-in-out infinite',
            },
          }
        },
        darkMode: 'class',
      };
    </script>
  </head>
  <body class="bg-gray-900 dark:bg-gray-800 text-white flex items-center justify-center min-h-screen transition-colors duration-500">

    
    <div class="fixed inset-0 -z-10 bg-[url('https://files.idyllic.app/files/static/3273716')] bg-cover bg-center animate-brightnessPulse pointer-events-none"></div>

    <div class="text-center">
      <h1 class="text-6xl md:text-7xl font-gothic tracking-wider
          animate-possessed
          bg-gradient-to-r from-green-600 via-lime-500 to-yellow-700
          text-transparent bg-clip-text
          drop-shadow-[0_0_20px_rgba(0,0,0,1)]
          select-none cursor-default
          -mt-32">
        ⚔️ Tower of Trials: Combat Mode ⚔️
      </h1>

      <p class="mb-8 bg-gradient-to-r from-yellow-900 via-lime-500 to-green-600
          bg-clip-text text-transparent animate-wavy">
        Ascend the tower and defeat your foes!
      </p>

      <button class="bg-gradient-to-b from-yellow-700 to-yellow-900
          text-yellow-100 font-black text-lg uppercase px-8 py-3 rounded-md border-4 border-yellow-800
          animate-glowPulse
          hover:bg-gradient-to-b from-yellow-600 to-yellow-800 hover:scale-105 active:scale-95
          transition-transform transition-colors duration-200 ease-in-out
          select-none cursor-pointer tracking-wider font-serif mb-4">
        Start Game
      </button>

      <button id="settings" class="bg-gradient-to-b from-yellow-700 to-yellow-900
          text-yellow-100 font-black text-lg uppercase px-8 py-3 rounded-md border-4 border-yellow-800
          animate-glowPulse
          hover:bg-gradient-to-b from-yellow-600 to-yellow-800 hover:scale-105 active:scale-95
          transition-transform transition-colors duration-200 ease-in-out
          select-none cursor-pointer tracking-wider font-serif mb-6">
        ⚙️ Setting
      </button>

      <div class="flex items-center justify-center">
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" />
          <div class="w-11 h-6 bg-gray-300 rounded-full peer peer-checked:bg-purple-600
              peer-focus:ring-4 peer-focus:ring-purple-300 dark:bg-gray-700 dark:peer-checked:bg-purple-500
              transition-colors duration-300"></div>
          <div class="absolute left-0.5 top-0.5 bg-white w-5 h-5 rounded-full shadow-md
              peer-checked:translate-x-full peer-checked:border-purple-600 transition-transform duration-300"></div>
        </label>
        <span class="ml-3 text-yellow-100 font-semibold select-none">Dark Mode</span>
      </div>
    </div>

    <script src="/main.js"></script>
    <script>
      document
        .getElementById('fetch-health')
        ?.addEventListener('click', async () => {
          const res = await fetch('/api/health');
          const data = await res.json();
          const pre = document.getElementById('api-response');
          pre.textContent = JSON.stringify(data, null, 2);
          pre.classList.remove('hidden');
        });
    </script>
  </body>
</html>
